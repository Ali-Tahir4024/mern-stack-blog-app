{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/nexus/workspace/uncompleted projects/blog-app/Frontend/src/components/userBlogs.js\";\nimport { Component, Fragment } from \"react\";\nimport { Container, Row, Col, Button, Modal, ModalTitle, ModalBody, ModalFooter, Form, Card, CardImg } from \"react-bootstrap\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\n\nclass UserBlogs extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // for modal to open and close\n      showBlogModal: false,\n      // array o send\n      userBlogData: [],\n      // to add time to every blog added\n      blogTime: new Date().toLocaleDateString(),\n      // array to map\n      userBlogsData: []\n    };\n\n    this.openBlogModal = () => {\n      this.setState({\n        showBlogModal: true\n      });\n    };\n\n    this.closeBlogModal = () => {\n      this.setState({\n        showBlogModal: false\n      });\n    };\n\n    this.addBlog = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.postBlogs = userObjId => {\n      this.setState({\n        userBlogData: [...this.state.userBlogData, {\n          blogTitle: this.state.blogTitle,\n          blogSubTitle: this.state.blogSubTitle,\n          blogDescription: this.state.blogDescription,\n          blogPhoto: this.state.blogPhoto,\n          blogTime: this.state.blogTime\n        }]\n      }, async () => {\n        await axios.post(`http://localhost:9999/api/userBlogs/${userObjId}`, this.state.userBlogData).then(res => {\n          if (res.data === \"Blog Added\") {\n            this.closeBlogModal();\n            this.getBlogData(userObjId);\n          } else {\n            alert(\"Fill all the fields\");\n          }\n        });\n      });\n    };\n\n    this.getBlogData = async id => {\n      const {\n        data\n      } = await axios.get(`http://localhost:9999/api/userBlogs/${id}`);\n      const userBlogsData = await data.filter(obj => {\n        return obj.userId === id;\n      });\n      this.setState({\n        userBlogsData: userBlogsData\n      });\n    };\n  }\n\n  render() {\n    if (localStorage.getItem(\"userPersonalData\") === \"\") {\n      this.props.history.push(\"/\");\n      window.location.reload();\n    }\n\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"user-blog-profile py-5\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            className: \"d-flex flex-column align-items-center justify-content-around\",\n            children: [localStorage.getItem(\"userPersonalData\") ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"user-avatar-large text-secondary\",\n                children: JSON.parse(localStorage.getItem(\"userPersonalData\")).username[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-dark py-3\",\n                id: \"username\",\n                children: JSON.parse(localStorage.getItem(\"userPersonalData\")).username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"text-secondary\",\n                id: \"userEmailAddress\",\n                children: JSON.parse(localStorage.getItem(\"userPersonalData\")).userEmailAddress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"No data found \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-secondary\",\n              className: \"my-3 px-5\",\n              onClick: () => {\n                localStorage.setItem(\"userPersonalData\", \"\");\n                this.props.history.push(\"/\");\n              },\n              children: \"Sign Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"py-3 text-sm-center d-flex align-items-center justify-content-start justify-content-xs-center\",\n              children: JSON.parse(localStorage.getItem(\"userPersonalData\")).username + \"'s Blogs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            md: 6,\n            className: \"d-flex align-items-center justify-content-center justify-content-md-end\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.openBlogModal,\n              children: \"Add a Blog\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.showBlogModal,\n        size: \"lg\",\n        onHide: this.closeBlogModal,\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(ModalTitle, {\n            children: \"Write your own blog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Blog Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Enter Blog Title\",\n                name: \"blogTitle\",\n                onChange: this.addBlog,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Blog Sub Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"email\",\n                placeholder: \"Enter Blog Sub Title\",\n                name: \"blogSubTitle\",\n                onChange: this.addBlog,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Blog description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                rows: 5,\n                placeholder: \"Enter Blog Description\",\n                name: \"blogDescription\",\n                onChange: this.addBlog,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: /*#__PURE__*/_jsxDEV(Form.File, {\n                label: \"Chose Blog Photo\",\n                onChange: this.addBlog,\n                name: \"blogPhoto\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"button\",\n            onClick: () => {\n              this.postBlogs(JSON.parse(localStorage.getItem(\"userPersonalData\"))._id);\n            },\n            children: \"Add Blog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            md: 6,\n            lg: 3,\n            className: \"py-3\",\n            children: [/*#__PURE__*/_jsxDEV(Card, {\n              className: \"blog-card\",\n              children: [/*#__PURE__*/_jsxDEV(CardImg, {\n                variant: \"top\",\n                src: blogImg2\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n                  children: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: \"Last updated 3 mins ago\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default UserBlogs;","map":{"version":3,"sources":["/home/nexus/workspace/uncompleted projects/blog-app/Frontend/src/components/userBlogs.js"],"names":["Component","Fragment","Container","Row","Col","Button","Modal","ModalTitle","ModalBody","ModalFooter","Form","Card","CardImg","NavBar","axios","UserBlogs","state","showBlogModal","userBlogData","blogTime","Date","toLocaleDateString","userBlogsData","openBlogModal","setState","closeBlogModal","addBlog","e","target","name","value","postBlogs","userObjId","blogTitle","blogSubTitle","blogDescription","blogPhoto","post","then","res","data","getBlogData","alert","id","get","filter","obj","userId","render","localStorage","getItem","props","history","push","window","location","reload","JSON","parse","username","userEmailAddress","setItem","_id","blogImg2"],"mappings":"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","sourcesContent":["import { Component, Fragment } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Modal,\n  ModalTitle,\n  ModalBody,\n  ModalFooter,\n  Form,\n  Card,\n  CardImg,\n} from \"react-bootstrap\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\n\nclass UserBlogs extends Component {\n  state = {\n    // for modal to open and close\n    showBlogModal: false,\n    // array o send\n    userBlogData: [],\n    // to add time to every blog added\n    blogTime: new Date().toLocaleDateString(),\n    // array to map\n    userBlogsData: [],\n  };\n\n  openBlogModal = () => {\n    this.setState({\n      showBlogModal: true,\n    });\n  };\n\n  closeBlogModal = () => {\n    this.setState({\n      showBlogModal: false,\n    });\n  };\n\n  addBlog = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  postBlogs = (userObjId) => {\n    this.setState(\n      {\n        userBlogData: [\n          ...this.state.userBlogData,\n          {\n            blogTitle: this.state.blogTitle,\n            blogSubTitle: this.state.blogSubTitle,\n            blogDescription: this.state.blogDescription,\n            blogPhoto: this.state.blogPhoto,\n            blogTime: this.state.blogTime,\n          },\n        ],\n      },\n      async () => {\n        await axios\n          .post(\n            `http://localhost:9999/api/userBlogs/${userObjId}`,\n            this.state.userBlogData\n          )\n          .then((res) => {\n            if (res.data === \"Blog Added\") {\n              this.closeBlogModal();\n              this.getBlogData(userObjId);\n            } else {\n              alert(\"Fill all the fields\");\n            }\n          });\n      }\n    );\n  };\n\n  getBlogData = async (id) => {\n    const { data } = await axios.get(\n      `http://localhost:9999/api/userBlogs/${id}`\n    );\n    const userBlogsData = await data.filter((obj) => {\n      return obj.userId === id;\n    });\n    this.setState({\n      userBlogsData: userBlogsData,\n    });\n  };\n\n  render() {\n    if (localStorage.getItem(\"userPersonalData\") === \"\") {\n      this.props.history.push(\"/\");\n      window.location.reload();\n    }\n    return (\n      <Fragment>\n        <NavBar />\n        <Container>\n          <Row className=\"user-blog-profile py-5\">\n            <Col\n              xs={12}\n              className=\"d-flex flex-column align-items-center justify-content-around\"\n            >\n              {localStorage.getItem(\"userPersonalData\") ? (\n                <>\n                  <span className=\"user-avatar-large text-secondary\">\n                    {\n                      JSON.parse(localStorage.getItem(\"userPersonalData\"))\n                        .username[0]\n                    }\n                  </span>\n                  <h1 className=\"text-dark py-3\" id=\"username\">\n                    {\n                      JSON.parse(localStorage.getItem(\"userPersonalData\"))\n                        .username\n                    }\n                  </h1>\n                  <h6 className=\"text-secondary\" id=\"userEmailAddress\">\n                    {\n                      JSON.parse(localStorage.getItem(\"userPersonalData\"))\n                        .userEmailAddress\n                    }\n                  </h6>\n                </>\n              ) : (\n                <h1>No data found </h1>\n              )}\n              <Button\n                variant=\"outline-secondary\"\n                className=\"my-3 px-5\"\n                onClick={() => {\n                  localStorage.setItem(\"userPersonalData\", \"\");\n                  this.props.history.push(\"/\");\n                }}\n              >\n                Sign Out\n              </Button>\n            </Col>\n          </Row>\n          <Row>\n            <Col xs={12} md={6}>\n              <h3 className=\"py-3 text-sm-center d-flex align-items-center justify-content-start justify-content-xs-center\">\n                {JSON.parse(localStorage.getItem(\"userPersonalData\")).username +\n                  \"'s Blogs\"}\n              </h3>\n            </Col>\n            <Col\n              xs={12}\n              md={6}\n              className=\"d-flex align-items-center justify-content-center justify-content-md-end\"\n            >\n              <Button onClick={this.openBlogModal}>Add a Blog</Button>\n            </Col>\n          </Row>\n        </Container>\n        {/* modal for user to write write blogs */}\n        <Modal\n          show={this.state.showBlogModal}\n          size=\"lg\"\n          onHide={this.closeBlogModal}\n          centered\n        >\n          <Modal.Header closeButton>\n            <ModalTitle>Write your own blog</ModalTitle>\n          </Modal.Header>\n          <ModalBody>\n            <Form>\n              <Form.Group>\n                <Form.Label>Blog Title</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Enter Blog Title\"\n                  name=\"blogTitle\"\n                  onChange={this.addBlog}\n                  required\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label>Blog Sub Title</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Enter Blog Sub Title\"\n                  name=\"blogSubTitle\"\n                  onChange={this.addBlog}\n                  required\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label>Blog description</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  rows={5}\n                  placeholder=\"Enter Blog Description\"\n                  name=\"blogDescription\"\n                  onChange={this.addBlog}\n                  required\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.File\n                  label=\"Chose Blog Photo\"\n                  onChange={this.addBlog}\n                  name=\"blogPhoto\"\n                  required\n                />\n              </Form.Group>\n            </Form>\n          </ModalBody>\n          <ModalFooter>\n            <Button\n              variant=\"primary\"\n              type=\"button\"\n              onClick={() => {\n                this.postBlogs(\n                  JSON.parse(localStorage.getItem(\"userPersonalData\"))._id\n                );\n              }}\n            >\n              Add Blog\n            </Button>\n          </ModalFooter>\n        </Modal>\n        <Container fluid>\n          <Row>\n            <Col xs={12} md={6} lg={3} className=\"py-3\">\n              <Card className=\"blog-card\">\n                <CardImg variant=\"top\" src={blogImg2} />\n                <Card.Body>\n                  <Card.Text>\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed\n                    do eiusmod tempor incididunt ut labore et dolore magna\n                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation\n                    ullamco laboris nisi ut aliquip ex ea commodo consequat.\n                  </Card.Text>\n                  <Card.Footer>\n                    <small className=\"text-muted\">\n                      Last updated 3 mins ago\n                    </small>\n                  </Card.Footer>\n                </Card.Body>\n              </Card>{\" \"}\n            </Col>\n          </Row>\n        </Container>\n      </Fragment>\n    );\n  }\n}\n\nexport default UserBlogs;\n"]},"metadata":{},"sourceType":"module"}
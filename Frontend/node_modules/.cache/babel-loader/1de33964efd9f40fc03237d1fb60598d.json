{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/nexus/workspace/uncompleted projects/blog-app/Frontend/src/components/userBlogs.js\";\nimport { Component, Fragment } from \"react\";\nimport { Container, Row, Col, Button, Modal, ModalTitle, ModalBody, ModalFooter, Form, Card, CardImg } from \"react-bootstrap\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\nimport blogImg1 from \"./img/blog-1-img.jpg\";\nimport blogImg2 from \"./img/blog-2-img.jpg\";\nimport blogImg3 from \"./img/blog-3-img.jpg\";\nimport blogImg4 from \"./img/blog-4-img.jpg\";\nimport blogImg5 from \"./img/blog-5-img.jpg\";\nimport blogImg6 from \"./img/blog-6-img.jpg\";\nimport blogImg7 from \"./img/blog-7-img.jpg\";\nimport blogImg8 from \"./img/blog-8-img.jpg\";\nimport blogImg9 from \"./img/blog-9-img.jpg\";\nimport blogImg10 from \"./img/blog-10-img.jpg\";\nimport blogImg11 from \"./img/blog-11-img.jpg\";\nimport blogImg12 from \"./img/blog-12-img.jpg\";\nimport blogImg13 from \"./img/blog-13-img.jpg\";\n\nclass UserBlogs extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // for modal to open and close\n      showBlogModal: false,\n      userSignupId: JSON.parse(localStorage.getItem(\"userPersonalData\"))._id,\n      // array o send\n      userBlogData: [],\n      // to add time to every blog added\n      blogTime: new Date().toLocaleDateString(),\n      // array to map\n      userBlogsData: [],\n      imgArr: [blogImg1, blogImg2, blogImg3, blogImg4, blogImg5, blogImg6, blogImg7, blogImg8, blogImg9, blogImg10, blogImg11, blogImg12, blogImg13],\n      randomNum: Math.floor(Math.random() * 13)\n    };\n\n    this.openBlogModal = () => {\n      this.setState({\n        showBlogModal: true\n      });\n    };\n\n    this.closeBlogModal = () => {\n      this.setState({\n        showBlogModal: false\n      });\n    };\n\n    this.addBlog = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.postBlogs = () => {\n      this.setState({\n        userBlogData: [...this.state.userBlogData, {\n          blogTitle: this.state.blogTitle,\n          blogSubTitle: this.state.blogSubTitle,\n          blogDescription: this.state.blogDescription,\n          blogPhoto: this.state.blogPhoto,\n          blogTime: this.state.blogTime\n        }]\n      }, async () => {\n        await axios.post(`http://localhost:9999/api/userBlogs/${this.state.userSignupId}`, this.state.userBlogData).then(res => {\n          if (res.data === \"Blog Added\") {\n            this.closeBlogModal();\n            this.getBlogData();\n          } else {\n            alert(\"Fill all the fields\");\n          }\n        });\n      });\n    };\n\n    this.getBlogData = async () => {\n      const {\n        data\n      } = await axios.get(\"http://localhost:9999/api/userBlogs\");\n      const userBlogsData = await data.filter(obj => {\n        return obj.userId === this.state.userSignupId;\n      });\n      this.setState({\n        userBlogsData: userBlogsData\n      });\n    };\n\n    this.deleteUserBlog = async id => {\n      await axios.post(`http://localhost:9999/api/userBlogs/deleteBlog/${id}`);\n    };\n  }\n\n  async componentWillMount() {\n    const {\n      data\n    } = await axios.get(\"http://localhost:9999/api/userBlogs\");\n    const userBlogsData = await data.filter(obj => {\n      return obj.userId === this.state.userSignupId;\n    });\n    this.setState({\n      userBlogsData: userBlogsData\n    });\n  }\n\n  render() {\n    if (localStorage.getItem(\"userPersonalData\") === \"\") {\n      this.props.history.push(\"/\");\n      window.location.reload();\n    }\n\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"user-blog-profile py-5\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            className: \"d-flex flex-column align-items-center justify-content-around\",\n            children: [localStorage.getItem(\"userPersonalData\") ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"user-avatar-large text-secondary\",\n                children: JSON.parse(localStorage.getItem(\"userPersonalData\")).username[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"font-weight-bold text-dark py-3\",\n                id: \"username\",\n                children: JSON.parse(localStorage.getItem(\"userPersonalData\")).username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"text-secondary\",\n                id: \"userEmailAddress\",\n                children: JSON.parse(localStorage.getItem(\"userPersonalData\")).userEmailAddress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"No data found \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-secondary\",\n              className: \"my-3 px-5\",\n              onClick: () => {\n                localStorage.setItem(\"userPersonalData\", \"\");\n                this.props.history.push(\"/\");\n              },\n              children: \"Sign Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"py-3 text-sm-center d-flex align-items-center justify-content-start justify-content-xs-center\",\n              children: JSON.parse(localStorage.getItem(\"userPersonalData\")).username + \"'s Blogs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            md: 6,\n            className: \"d-flex align-items-center justify-content-center justify-content-md-end\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.openBlogModal,\n              children: \"Add a Blog\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.showBlogModal,\n        size: \"lg\",\n        onHide: this.closeBlogModal,\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(ModalTitle, {\n            children: \"Write your own blog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Blog Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Enter Blog Title\",\n                name: \"blogTitle\",\n                onChange: this.addBlog,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Blog Sub Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"email\",\n                placeholder: \"Enter Blog Sub Title\",\n                name: \"blogSubTitle\",\n                onChange: this.addBlog,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Blog description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                rows: 5,\n                placeholder: \"Enter Blog Description\",\n                name: \"blogDescription\",\n                onChange: this.addBlog,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: /*#__PURE__*/_jsxDEV(Form.File, {\n                label: \"Chose Blog Photo\",\n                onChange: this.addBlog,\n                name: \"blogPhoto\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"button\",\n            onClick: this.postBlogs,\n            children: \"Add Blog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: this.state.userBlogsData === [] || this.state.userBlogsData.length <= 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-center text-dark font-weight-bold pt-5 w-100\",\n            children: \"No Blogs Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this) : this.state.userBlogsData.map((blogObj, index) => {\n            return /*#__PURE__*/_jsxDEV(Col, {\n              xs: 12,\n              md: 6,\n              lg: 4,\n              xl: 3,\n              className: \"py-3\",\n              children: [/*#__PURE__*/_jsxDEV(Card, {\n                className: \"blog-card\",\n                children: [/*#__PURE__*/_jsxDEV(CardImg, {\n                  variant: \"top\",\n                  src: this.state.imgArr[this.state.randomNum]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    children: blogObj.blogTitle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Subtitle, {\n                    className: \"mb-2 text-muted\",\n                    children: blogObj.blogSubTitle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                    children: blogObj.blogDescription\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                    className: \"mt-2 text-muted\",\n                    children: blogObj.blogTime\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n                  children: [/*#__PURE__*/_jsxDEV(Card.Link, {\n                    children: \"Edit Blog\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Link, {\n                    onClick: () => {\n                      this.deleteUserBlog(blogObj._id);\n                    },\n                    children: \"Delete Blog\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this), \" \"]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default UserBlogs;","map":{"version":3,"sources":["/home/nexus/workspace/uncompleted projects/blog-app/Frontend/src/components/userBlogs.js"],"names":["Component","Fragment","Container","Row","Col","Button","Modal","ModalTitle","ModalBody","ModalFooter","Form","Card","CardImg","NavBar","axios","blogImg1","blogImg2","blogImg3","blogImg4","blogImg5","blogImg6","blogImg7","blogImg8","blogImg9","blogImg10","blogImg11","blogImg12","blogImg13","UserBlogs","state","showBlogModal","userSignupId","JSON","parse","localStorage","getItem","_id","userBlogData","blogTime","Date","toLocaleDateString","userBlogsData","imgArr","randomNum","Math","floor","random","openBlogModal","setState","closeBlogModal","addBlog","e","target","name","value","postBlogs","blogTitle","blogSubTitle","blogDescription","blogPhoto","post","then","res","data","getBlogData","alert","get","filter","obj","userId","deleteUserBlog","id","componentWillMount","render","props","history","push","window","location","reload","username","userEmailAddress","setItem","length","map","blogObj","index"],"mappings":"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","sourcesContent":["import { Component, Fragment } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Modal,\n  ModalTitle,\n  ModalBody,\n  ModalFooter,\n  Form,\n  Card,\n  CardImg,\n} from \"react-bootstrap\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\nimport blogImg1 from \"./img/blog-1-img.jpg\";\nimport blogImg2 from \"./img/blog-2-img.jpg\";\nimport blogImg3 from \"./img/blog-3-img.jpg\";\nimport blogImg4 from \"./img/blog-4-img.jpg\";\nimport blogImg5 from \"./img/blog-5-img.jpg\";\nimport blogImg6 from \"./img/blog-6-img.jpg\";\nimport blogImg7 from \"./img/blog-7-img.jpg\";\nimport blogImg8 from \"./img/blog-8-img.jpg\";\nimport blogImg9 from \"./img/blog-9-img.jpg\";\nimport blogImg10 from \"./img/blog-10-img.jpg\";\nimport blogImg11 from \"./img/blog-11-img.jpg\";\nimport blogImg12 from \"./img/blog-12-img.jpg\";\nimport blogImg13 from \"./img/blog-13-img.jpg\";\n\nclass UserBlogs extends Component {\n  state = {\n    // for modal to open and close\n    showBlogModal: false,\n    userSignupId: JSON.parse(localStorage.getItem(\"userPersonalData\"))._id,\n    // array o send\n    userBlogData: [],\n    // to add time to every blog added\n    blogTime: new Date().toLocaleDateString(),\n    // array to map\n    userBlogsData: [],\n    imgArr: [\n      blogImg1,\n      blogImg2,\n      blogImg3,\n      blogImg4,\n      blogImg5,\n      blogImg6,\n      blogImg7,\n      blogImg8,\n      blogImg9,\n      blogImg10,\n      blogImg11,\n      blogImg12,\n      blogImg13,\n    ],\n    randomNum: Math.floor(Math.random() * 13),\n  };\n\n  openBlogModal = () => {\n    this.setState({\n      showBlogModal: true,\n    });\n  };\n\n  closeBlogModal = () => {\n    this.setState({\n      showBlogModal: false,\n    });\n  };\n\n  addBlog = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  postBlogs = () => {\n    this.setState(\n      {\n        userBlogData: [\n          ...this.state.userBlogData,\n          {\n            blogTitle: this.state.blogTitle,\n            blogSubTitle: this.state.blogSubTitle,\n            blogDescription: this.state.blogDescription,\n            blogPhoto: this.state.blogPhoto,\n            blogTime: this.state.blogTime,\n          },\n        ],\n      },\n      async () => {\n        await axios\n          .post(\n            `http://localhost:9999/api/userBlogs/${this.state.userSignupId}`,\n            this.state.userBlogData\n          )\n          .then((res) => {\n            if (res.data === \"Blog Added\") {\n              this.closeBlogModal();\n              this.getBlogData();\n            } else {\n              alert(\"Fill all the fields\");\n            }\n          });\n      }\n    );\n  };\n\n  getBlogData = async () => {\n    const { data } = await axios.get(\"http://localhost:9999/api/userBlogs\");\n    const userBlogsData = await data.filter((obj) => {\n      return obj.userId === this.state.userSignupId;\n    });\n    this.setState({\n      userBlogsData: userBlogsData,\n    });\n  };\n\n  async componentWillMount() {\n    const { data } = await axios.get(\"http://localhost:9999/api/userBlogs\");\n    const userBlogsData = await data.filter((obj) => {\n      return obj.userId === this.state.userSignupId;\n    });\n    this.setState({\n      userBlogsData: userBlogsData,\n    });\n  }\n\n  deleteUserBlog = async (id) => {\n    await axios.post(`http://localhost:9999/api/userBlogs/deleteBlog/${id}`);\n  };\n\n  render() {\n    if (localStorage.getItem(\"userPersonalData\") === \"\") {\n      this.props.history.push(\"/\");\n      window.location.reload();\n    }\n    return (\n      <Fragment>\n        <NavBar />\n        <Container>\n          <Row className=\"user-blog-profile py-5\">\n            <Col\n              xs={12}\n              className=\"d-flex flex-column align-items-center justify-content-around\"\n            >\n              {localStorage.getItem(\"userPersonalData\") ? (\n                <>\n                  <span className=\"user-avatar-large text-secondary\">\n                    {\n                      JSON.parse(localStorage.getItem(\"userPersonalData\"))\n                        .username[0]\n                    }\n                  </span>\n                  <h1 className=\"font-weight-bold text-dark py-3\" id=\"username\">\n                    {\n                      JSON.parse(localStorage.getItem(\"userPersonalData\"))\n                        .username\n                    }\n                  </h1>\n                  <h6 className=\"text-secondary\" id=\"userEmailAddress\">\n                    {\n                      JSON.parse(localStorage.getItem(\"userPersonalData\"))\n                        .userEmailAddress\n                    }\n                  </h6>\n                </>\n              ) : (\n                <h1>No data found </h1>\n              )}\n              <Button\n                variant=\"outline-secondary\"\n                className=\"my-3 px-5\"\n                onClick={() => {\n                  localStorage.setItem(\"userPersonalData\", \"\");\n                  this.props.history.push(\"/\");\n                }}\n              >\n                Sign Out\n              </Button>\n            </Col>\n          </Row>\n          <Row>\n            <Col xs={12} md={6}>\n              <h3 className=\"py-3 text-sm-center d-flex align-items-center justify-content-start justify-content-xs-center\">\n                {JSON.parse(localStorage.getItem(\"userPersonalData\")).username +\n                  \"'s Blogs\"}\n              </h3>\n            </Col>\n            <Col\n              xs={12}\n              md={6}\n              className=\"d-flex align-items-center justify-content-center justify-content-md-end\"\n            >\n              <Button onClick={this.openBlogModal}>Add a Blog</Button>\n            </Col>\n          </Row>\n        </Container>\n        {/* modal for user to write write blogs */}\n        <Modal\n          show={this.state.showBlogModal}\n          size=\"lg\"\n          onHide={this.closeBlogModal}\n          centered\n        >\n          <Modal.Header closeButton>\n            <ModalTitle>Write your own blog</ModalTitle>\n          </Modal.Header>\n          <ModalBody>\n            <Form>\n              <Form.Group>\n                <Form.Label>Blog Title</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Enter Blog Title\"\n                  name=\"blogTitle\"\n                  onChange={this.addBlog}\n                  required\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label>Blog Sub Title</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Enter Blog Sub Title\"\n                  name=\"blogSubTitle\"\n                  onChange={this.addBlog}\n                  required\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label>Blog description</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  rows={5}\n                  placeholder=\"Enter Blog Description\"\n                  name=\"blogDescription\"\n                  onChange={this.addBlog}\n                  required\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.File\n                  label=\"Chose Blog Photo\"\n                  onChange={this.addBlog}\n                  name=\"blogPhoto\"\n                  required\n                />\n              </Form.Group>\n            </Form>\n          </ModalBody>\n          <ModalFooter>\n            <Button variant=\"primary\" type=\"button\" onClick={this.postBlogs}>\n              Add Blog\n            </Button>\n          </ModalFooter>\n        </Modal>\n        <Container fluid>\n          <Row>\n            {this.state.userBlogsData === [] ||\n            this.state.userBlogsData.length <= 0 ? (\n              <h1 className=\"text-center text-dark font-weight-bold pt-5 w-100\">\n                No Blogs Found\n              </h1>\n            ) : (\n              this.state.userBlogsData.map((blogObj, index) => {\n                return (\n                  <Col\n                    xs={12}\n                    md={6}\n                    lg={4}\n                    xl={3}\n                    className=\"py-3\"\n                    key={index}\n                  >\n                    <Card className=\"blog-card\">\n                      <CardImg\n                        variant=\"top\"\n                        src={this.state.imgArr[this.state.randomNum]}\n                      />\n                      <Card.Body>\n                        <Card.Title>{blogObj.blogTitle}</Card.Title>\n                        <Card.Subtitle className=\"mb-2 text-muted\">\n                          {blogObj.blogSubTitle}\n                        </Card.Subtitle>\n                        <Card.Text>{blogObj.blogDescription}</Card.Text>\n                        <Card.Text className=\"mt-2 text-muted\">\n                          {blogObj.blogTime}\n                        </Card.Text>\n                      </Card.Body>\n                      <Card.Footer>\n                        <Card.Link>Edit Blog</Card.Link>\n                        <Card.Link\n                          onClick={() => {\n                            this.deleteUserBlog(blogObj._id);\n                          }}\n                        >\n                          Delete Blog\n                        </Card.Link>\n                      </Card.Footer>\n                    </Card>{\" \"}\n                  </Col>\n                );\n              })\n            )}\n          </Row>\n        </Container>\n      </Fragment>\n    );\n  }\n}\n\nexport default UserBlogs;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/nexus/workspace/uncompleted projects/blog-app/Frontend/src/components/userBlogs.js\";\nimport { Component, Fragment } from \"react\";\nimport { Container, Row, Col, Button, Modal, ModalTitle, ModalBody, ModalFooter, Form } from \"react-bootstrap\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\n\nclass UserBlogs extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showBlogModal: false,\n      userBlogData: []\n    };\n\n    this.openBlogModal = () => {\n      this.setState({\n        showBlogModal: true\n      });\n    };\n\n    this.closeBlogModal = () => {\n      this.setState({\n        showBlogModal: false\n      });\n    };\n\n    this.addBlog = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.postBlogs = userObjId => {\n      this.setState({\n        userBlogData: [...this.state.userBlogData, {\n          blogTitle: this.state.blogTitle,\n          blogSubTitle: this.state.blogSubTitle,\n          blogDescription: this.state.blogDescription,\n          blogPhoto: this.state.blogPhoto\n        }]\n      }, async () => {\n        await axios.post(`http://localhost:9999/api/userBlogs/${userObjId}`, this.state.userBlogData).then(async res => {\n          if (res.data === \"Blog Added\") {\n            this.closeBlogModal();\n            console.log({\n              userObjId\n            });\n            await axios.get(`http://localhost:9999/api/userBlogs/${userObjId}`).then(data => {\n              console.log(data);\n            });\n          } else {\n            alert(\"Fill all the fields\");\n          }\n        });\n      });\n    };\n  }\n\n  render() {\n    if (localStorage.getItem(\"userPersonalData\") === \"\") {\n      this.props.history.push(\"/\");\n      window.location.reload();\n    }\n\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"user-blog-profile py-5\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            className: \"d-flex flex-column align-items-center justify-content-around\",\n            children: [localStorage.getItem(\"userPersonalData\") ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"user-avatar-large text-secondary\",\n                children: JSON.parse(localStorage.getItem(\"userPersonalData\")).username[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-dark py-3\",\n                id: \"username\",\n                children: JSON.parse(localStorage.getItem(\"userPersonalData\")).username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                className: \"text-secondary\",\n                id: \"userEmailAddress\",\n                children: JSON.parse(localStorage.getItem(\"userPersonalData\")).userEmailAddress\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"No data found \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-secondary\",\n              className: \"my-3 px-5\",\n              onClick: () => {\n                localStorage.setItem(\"userPersonalData\", \"\");\n                this.props.history.push(\"/\");\n              },\n              children: \"Sign Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"py-3 text-sm-center d-flex align-items-center justify-content-start justify-content-xs-center\",\n              children: JSON.parse(localStorage.getItem(\"userPersonalData\")).username + \"'s Blogs\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 12,\n            md: 6,\n            className: \"d-flex align-items-center justify-content-center justify-content-md-end\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.openBlogModal,\n              children: \"Add a Blog\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.showBlogModal,\n        size: \"lg\",\n        onHide: this.closeBlogModal,\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(ModalTitle, {\n            children: \"Write your own blog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Blog Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                placeholder: \"Enter Blog Title\",\n                name: \"blogTitle\",\n                onChange: this.addBlog,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Blog Sub Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"email\",\n                placeholder: \"Enter Blog Sub Title\",\n                name: \"blogSubTitle\",\n                onChange: this.addBlog,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Blog description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"textarea\",\n                rows: 5,\n                placeholder: \"Enter Blog Description\",\n                name: \"blogDescription\",\n                onChange: this.addBlog,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: /*#__PURE__*/_jsxDEV(Form.File, {\n                label: \"Chose Blog Photo\",\n                onChange: this.addBlog,\n                name: \"blogPhoto\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"button\",\n            onClick: () => {\n              this.postBlogs(JSON.parse(localStorage.getItem(\"userPersonalData\"))._id);\n            },\n            children: \"Add Blog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default UserBlogs; // import { useState, useEffect } from \"react\";\n// import {\n//   Container,\n//   Row,\n//   Col,\n//   Button,\n//   Modal,\n//   ModalTitle,\n//   ModalBody,\n//   ModalFooter,\n//   Form,\n// } from \"react-bootstrap\";\n// import NavBar from \"./NavBar\";\n// const UserBlogs = ({ history }) => {\n//   useEffect(() => {\n//     if (localStorage.getItem(\"userPersonalData\") === \"\") {\n//       history.push(\"/\");\n//     }\n//   }, [history]);\n//   const [blogModal, showBlogModal] = useState(false);\n//   // const [blogTitle, setBlogTitle] = useState(\"\");\n//   // const [blogSubTitle, setBlogSubTitle] = useState(\"\");\n//   // const [blogDescription, setBlogDescription] = useState(\"\");\n//   // const [blogPhoto, setBlogPhoto] = useState(\"\");\n//   const [userBlogData, setUserBlogData] = useState([\n//     {\n//       blogTitle: \"\",\n//       blogSubTitle: \"\",\n//       blogDescription: \"\",\n//       blogPhoto: \"\",\n//     },\n//   ]);\n//   const openBlogModal = () => {\n//     showBlogModal(true);\n//   };\n//   const closeBlogModal = () => {\n//     showBlogModal(false);\n//   };\n//   const addBlog = (e) => {\n//     setUserBlogData({ ...userBlogData, [e.target.name]: e.target.value });\n//   };\n//   const postBlogs = () => {\n//     console.log(userBlogData);\n//   };\n//   return (\n//     <>\n//       <NavBar />\n//       <Container>\n//         <Row className=\"user-blog-profile py-5\">\n//           <Col\n//             xs={12}\n//             className=\"d-flex flex-column align-items-center justify-content-around\"\n//           >\n//             {localStorage.getItem(\"userPersonalData\") ? (\n//               <>\n//                 <span className=\"user-avatar-large text-secondary\">\n//                   {\n//                     JSON.parse(localStorage.getItem(\"userPersonalData\"))\n//                       .username[0]\n//                   }\n//                 </span>\n//                 <h1 className=\"text-dark py-3\" id=\"username\">\n//                   {\n//                     JSON.parse(localStorage.getItem(\"userPersonalData\"))\n//                       .username\n//                   }\n//                 </h1>\n//                 <h6 className=\"text-secondary\" id=\"userEmailAddress\">\n//                   {\n//                     JSON.parse(localStorage.getItem(\"userPersonalData\"))\n//                       .userEmailAddress\n//                   }\n//                 </h6>\n//               </>\n//             ) : (\n//               <h1>No data found </h1>\n//             )}\n//             <Button\n//               variant=\"outline-secondary\"\n//               className=\"my-3 px-5\"\n//               onClick={() => {\n//                 localStorage.setItem(\"userPersonalData\", \"\");\n//                 history.push(\"/\");\n//               }}\n//             >\n//               Sign Out\n//             </Button>\n//           </Col>\n//         </Row>\n//         <Row>\n//           <Col xs={12} md={6}>\n//             <h3 className=\"py-3 text-sm-center d-flex align-items-center justify-content-start justify-content-xs-center\">\n//               {JSON.parse(localStorage.getItem(\"userPersonalData\")).username +\n//                 \"'s Blogs\"}\n//             </h3>\n//           </Col>\n//           <Col\n//             xs={12}\n//             md={6}\n//             className=\"d-flex align-items-center justify-content-center justify-content-md-end\"\n//           >\n//             <Button onClick={openBlogModal}>Add a Blog</Button>\n//           </Col>\n//         </Row>\n//       </Container>\n//       {/* modal for user to write write blogs */}\n//       <Modal show={blogModal} size=\"lg\" centered onHide={closeBlogModal}>\n//         <Modal.Header closeButton>\n//           <ModalTitle>Write your own blog</ModalTitle>\n//         </Modal.Header>\n//         <ModalBody>\n//           <Form>\n//             <Form.Group>\n//               <Form.Label>Blog Title</Form.Label>\n//               <Form.Control\n//                 type=\"text\"\n//                 placeholder=\"Enter Blog Title\"\n//                 name=\"blogTitle\"\n//                 onChange={addBlog}\n//                 required\n//               />\n//             </Form.Group>\n//             <Form.Group>\n//               <Form.Label>Blog Sub Title</Form.Label>\n//               <Form.Control\n//                 type=\"email\"\n//                 placeholder=\"Enter Blog Sub Title\"\n//                 name=\"blogSubTitle\"\n//                 onChange={addBlog}\n//                 required\n//               />\n//             </Form.Group>\n//             <Form.Group>\n//               <Form.Label>Blog description</Form.Label>\n//               <Form.Control\n//                 as=\"textarea\"\n//                 rows={5}\n//                 placeholder=\"Enter Blog Description\"\n//                 name=\"blogDescription\"\n//                 onChange={addBlog}\n//                 required\n//               />\n//             </Form.Group>\n//             <Form.Group>\n//               <Form.File\n//                 label=\"Chose Blog Photo\"\n//                 onChange={addBlog}\n//                 name=\"blogPhoto\"\n//                 required\n//               />\n//             </Form.Group>\n//           </Form>\n//         </ModalBody>\n//         <ModalFooter>\n//           <Button\n//             variant=\"primary\"\n//             type=\"button\"\n//             onClick={() => {\n//               closeBlogModal();\n//               postBlogs();\n//             }}\n//           >\n//             Add Blog\n//           </Button>\n//         </ModalFooter>\n//       </Modal>\n//       {/* <Container fluid>\n//       </Container> */}\n//     </>\n//   );\n// };\n// export default UserBlogs;","map":{"version":3,"sources":["/home/nexus/workspace/uncompleted projects/blog-app/Frontend/src/components/userBlogs.js"],"names":["Component","Fragment","Container","Row","Col","Button","Modal","ModalTitle","ModalBody","ModalFooter","Form","NavBar","axios","UserBlogs","state","showBlogModal","userBlogData","openBlogModal","setState","closeBlogModal","addBlog","e","target","name","value","postBlogs","userObjId","blogTitle","blogSubTitle","blogDescription","blogPhoto","post","then","res","data","console","log","get","alert","render","localStorage","getItem","props","history","push","window","location","reload","JSON","parse","username","userEmailAddress","setItem","_id"],"mappings":"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A;AAAA;AAAA;AAAA,gBATF,eAoDE,QAAC,WAAD;AAAA,iCACE,QAAC,MAAD;AACE,YAAA,OAAO,EAAC,SADV;AAEE,YAAA,IAAI,EAAC,QAFP;AAGE,YAAA,OAAO,EAAE,MAAM;AACb,mBAAKK,SAAL,CACEuB,IAAI,CAACC,KAAL,CAAWT,YAAY,CAACC,OAAb,CAAqB,kBAArB,CAAX,EAAqDY,GADvD;AAGD,aAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBApDF;AAAA;AAAA;AAAA;AAAA;AAAA,cA7DF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAqID;;AAtM+B;;AAyMlC,eAAexC,SAAf,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA","sourcesContent":["import { Component, Fragment } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Modal,\n  ModalTitle,\n  ModalBody,\n  ModalFooter,\n  Form,\n} from \"react-bootstrap\";\nimport NavBar from \"./NavBar\";\nimport axios from \"axios\";\n\nclass UserBlogs extends Component {\n  state = {\n    showBlogModal: false,\n    userBlogData: [],\n  };\n\n  openBlogModal = () => {\n    this.setState({\n      showBlogModal: true,\n    });\n  };\n\n  closeBlogModal = () => {\n    this.setState({\n      showBlogModal: false,\n    });\n  };\n\n  addBlog = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  postBlogs = (userObjId) => {\n    this.setState(\n      {\n        userBlogData: [\n          ...this.state.userBlogData,\n          {\n            blogTitle: this.state.blogTitle,\n            blogSubTitle: this.state.blogSubTitle,\n            blogDescription: this.state.blogDescription,\n            blogPhoto: this.state.blogPhoto,\n          },\n        ],\n      },\n      async () => {\n        await axios\n          .post(\n            `http://localhost:9999/api/userBlogs/${userObjId}`,\n            this.state.userBlogData\n          )\n          .then(async (res) => {\n            if (res.data === \"Blog Added\") {\n              this.closeBlogModal();\n              console.log({ userObjId });\n              await axios\n                .get(`http://localhost:9999/api/userBlogs/${userObjId}`)\n                .then((data) => {\n                  console.log(data);\n                });\n            } else {\n              alert(\"Fill all the fields\");\n            }\n          });\n      }\n    );\n  };\n\n  render() {\n    if (localStorage.getItem(\"userPersonalData\") === \"\") {\n      this.props.history.push(\"/\");\n      window.location.reload();\n    }\n    return (\n      <Fragment>\n        <NavBar />\n        <Container>\n          <Row className=\"user-blog-profile py-5\">\n            <Col\n              xs={12}\n              className=\"d-flex flex-column align-items-center justify-content-around\"\n            >\n              {localStorage.getItem(\"userPersonalData\") ? (\n                <>\n                  <span className=\"user-avatar-large text-secondary\">\n                    {\n                      JSON.parse(localStorage.getItem(\"userPersonalData\"))\n                        .username[0]\n                    }\n                  </span>\n                  <h1 className=\"text-dark py-3\" id=\"username\">\n                    {\n                      JSON.parse(localStorage.getItem(\"userPersonalData\"))\n                        .username\n                    }\n                  </h1>\n                  <h6 className=\"text-secondary\" id=\"userEmailAddress\">\n                    {\n                      JSON.parse(localStorage.getItem(\"userPersonalData\"))\n                        .userEmailAddress\n                    }\n                  </h6>\n                </>\n              ) : (\n                <h1>No data found </h1>\n              )}\n              <Button\n                variant=\"outline-secondary\"\n                className=\"my-3 px-5\"\n                onClick={() => {\n                  localStorage.setItem(\"userPersonalData\", \"\");\n                  this.props.history.push(\"/\");\n                }}\n              >\n                Sign Out\n              </Button>\n            </Col>\n          </Row>\n          <Row>\n            <Col xs={12} md={6}>\n              <h3 className=\"py-3 text-sm-center d-flex align-items-center justify-content-start justify-content-xs-center\">\n                {JSON.parse(localStorage.getItem(\"userPersonalData\")).username +\n                  \"'s Blogs\"}\n              </h3>\n            </Col>\n            <Col\n              xs={12}\n              md={6}\n              className=\"d-flex align-items-center justify-content-center justify-content-md-end\"\n            >\n              <Button onClick={this.openBlogModal}>Add a Blog</Button>\n            </Col>\n          </Row>\n        </Container>\n        {/* modal for user to write write blogs */}\n        <Modal\n          show={this.state.showBlogModal}\n          size=\"lg\"\n          onHide={this.closeBlogModal}\n          centered\n        >\n          <Modal.Header closeButton>\n            <ModalTitle>Write your own blog</ModalTitle>\n          </Modal.Header>\n          <ModalBody>\n            <Form>\n              <Form.Group>\n                <Form.Label>Blog Title</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Enter Blog Title\"\n                  name=\"blogTitle\"\n                  onChange={this.addBlog}\n                  required\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label>Blog Sub Title</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Enter Blog Sub Title\"\n                  name=\"blogSubTitle\"\n                  onChange={this.addBlog}\n                  required\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label>Blog description</Form.Label>\n                <Form.Control\n                  as=\"textarea\"\n                  rows={5}\n                  placeholder=\"Enter Blog Description\"\n                  name=\"blogDescription\"\n                  onChange={this.addBlog}\n                  required\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.File\n                  label=\"Chose Blog Photo\"\n                  onChange={this.addBlog}\n                  name=\"blogPhoto\"\n                  required\n                />\n              </Form.Group>\n            </Form>\n          </ModalBody>\n          <ModalFooter>\n            <Button\n              variant=\"primary\"\n              type=\"button\"\n              onClick={() => {\n                this.postBlogs(\n                  JSON.parse(localStorage.getItem(\"userPersonalData\"))._id\n                );\n              }}\n            >\n              Add Blog\n            </Button>\n          </ModalFooter>\n        </Modal>\n        {/* <Container fluid>\n  \n        </Container> */}\n      </Fragment>\n    );\n  }\n}\n\nexport default UserBlogs;\n\n// import { useState, useEffect } from \"react\";\n// import {\n//   Container,\n//   Row,\n//   Col,\n//   Button,\n//   Modal,\n//   ModalTitle,\n//   ModalBody,\n//   ModalFooter,\n//   Form,\n// } from \"react-bootstrap\";\n// import NavBar from \"./NavBar\";\n\n// const UserBlogs = ({ history }) => {\n//   useEffect(() => {\n//     if (localStorage.getItem(\"userPersonalData\") === \"\") {\n//       history.push(\"/\");\n//     }\n//   }, [history]);\n\n//   const [blogModal, showBlogModal] = useState(false);\n//   // const [blogTitle, setBlogTitle] = useState(\"\");\n//   // const [blogSubTitle, setBlogSubTitle] = useState(\"\");\n//   // const [blogDescription, setBlogDescription] = useState(\"\");\n//   // const [blogPhoto, setBlogPhoto] = useState(\"\");\n//   const [userBlogData, setUserBlogData] = useState([\n//     {\n//       blogTitle: \"\",\n//       blogSubTitle: \"\",\n//       blogDescription: \"\",\n//       blogPhoto: \"\",\n//     },\n//   ]);\n\n//   const openBlogModal = () => {\n//     showBlogModal(true);\n//   };\n\n//   const closeBlogModal = () => {\n//     showBlogModal(false);\n//   };\n\n//   const addBlog = (e) => {\n//     setUserBlogData({ ...userBlogData, [e.target.name]: e.target.value });\n//   };\n\n//   const postBlogs = () => {\n//     console.log(userBlogData);\n//   };\n\n//   return (\n//     <>\n//       <NavBar />\n//       <Container>\n//         <Row className=\"user-blog-profile py-5\">\n//           <Col\n//             xs={12}\n//             className=\"d-flex flex-column align-items-center justify-content-around\"\n//           >\n//             {localStorage.getItem(\"userPersonalData\") ? (\n//               <>\n//                 <span className=\"user-avatar-large text-secondary\">\n//                   {\n//                     JSON.parse(localStorage.getItem(\"userPersonalData\"))\n//                       .username[0]\n//                   }\n//                 </span>\n//                 <h1 className=\"text-dark py-3\" id=\"username\">\n//                   {\n//                     JSON.parse(localStorage.getItem(\"userPersonalData\"))\n//                       .username\n//                   }\n//                 </h1>\n//                 <h6 className=\"text-secondary\" id=\"userEmailAddress\">\n//                   {\n//                     JSON.parse(localStorage.getItem(\"userPersonalData\"))\n//                       .userEmailAddress\n//                   }\n//                 </h6>\n//               </>\n//             ) : (\n//               <h1>No data found </h1>\n//             )}\n//             <Button\n//               variant=\"outline-secondary\"\n//               className=\"my-3 px-5\"\n//               onClick={() => {\n//                 localStorage.setItem(\"userPersonalData\", \"\");\n//                 history.push(\"/\");\n//               }}\n//             >\n//               Sign Out\n//             </Button>\n//           </Col>\n//         </Row>\n//         <Row>\n//           <Col xs={12} md={6}>\n//             <h3 className=\"py-3 text-sm-center d-flex align-items-center justify-content-start justify-content-xs-center\">\n//               {JSON.parse(localStorage.getItem(\"userPersonalData\")).username +\n//                 \"'s Blogs\"}\n//             </h3>\n//           </Col>\n//           <Col\n//             xs={12}\n//             md={6}\n//             className=\"d-flex align-items-center justify-content-center justify-content-md-end\"\n//           >\n//             <Button onClick={openBlogModal}>Add a Blog</Button>\n//           </Col>\n//         </Row>\n//       </Container>\n//       {/* modal for user to write write blogs */}\n//       <Modal show={blogModal} size=\"lg\" centered onHide={closeBlogModal}>\n//         <Modal.Header closeButton>\n//           <ModalTitle>Write your own blog</ModalTitle>\n//         </Modal.Header>\n//         <ModalBody>\n//           <Form>\n//             <Form.Group>\n//               <Form.Label>Blog Title</Form.Label>\n//               <Form.Control\n//                 type=\"text\"\n//                 placeholder=\"Enter Blog Title\"\n//                 name=\"blogTitle\"\n//                 onChange={addBlog}\n//                 required\n//               />\n//             </Form.Group>\n//             <Form.Group>\n//               <Form.Label>Blog Sub Title</Form.Label>\n//               <Form.Control\n//                 type=\"email\"\n//                 placeholder=\"Enter Blog Sub Title\"\n//                 name=\"blogSubTitle\"\n//                 onChange={addBlog}\n//                 required\n//               />\n//             </Form.Group>\n//             <Form.Group>\n//               <Form.Label>Blog description</Form.Label>\n//               <Form.Control\n//                 as=\"textarea\"\n//                 rows={5}\n//                 placeholder=\"Enter Blog Description\"\n//                 name=\"blogDescription\"\n//                 onChange={addBlog}\n//                 required\n//               />\n//             </Form.Group>\n//             <Form.Group>\n//               <Form.File\n//                 label=\"Chose Blog Photo\"\n//                 onChange={addBlog}\n//                 name=\"blogPhoto\"\n//                 required\n//               />\n//             </Form.Group>\n//           </Form>\n//         </ModalBody>\n//         <ModalFooter>\n//           <Button\n//             variant=\"primary\"\n//             type=\"button\"\n//             onClick={() => {\n//               closeBlogModal();\n//               postBlogs();\n//             }}\n//           >\n//             Add Blog\n//           </Button>\n//         </ModalFooter>\n//       </Modal>\n//       {/* <Container fluid>\n\n//       </Container> */}\n//     </>\n//   );\n// };\n\n// export default UserBlogs;\n"]},"metadata":{},"sourceType":"module"}